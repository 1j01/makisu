<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>3D Sushi Simulator - Makisu 3D edition</title>
	<link rel="stylesheet" href="styles.css">
	<link rel="stylesheet" href="./libs/font-awesome-6.6.0-all.min.css">
</head>

<body>
	<div id="scene-container"></div>
	<!-- This is not an accessible way to implement flyout menu buttons. -->
	<div id="settings-menu" class="circular-menu">
		<i class="fas fa-cog"></i>
		<div id="settings-flyout" class="flyout">
			<!-- There is no debug visualization currently (previous visualizations have been removed) -->
			<div class="control-row checkbox-control-row" style="display: none">
				<input type="checkbox" id="debug-toggle">
				<label for="debug-toggle">Debug Visualization</label>
			</div>
			<div class="control-row">
				<label for="constraint-threshold">Constraint Break Threshold:</label>
				<input type="number" id="constraint-threshold" value="1" min="0" step="0.1">
			</div>
			<div class="control-row">
				<label for="rice-size">Rice Size:</label>
				<input type="number" id="rice-size" value="0.05" min="0.01" step="0.01">
			</div>
			<div class="control-row">
				<label for="lift-height">Lift Height:</label>
				<input type="number" id="lift-height" value="0.1" min="0" step="0.01">
			</div>
			<div class="control-row">
				<label for="lift-time">Lift Time:</label>
				<input type="number" id="lift-time" value="0.5" min="0" step="0.01">
			</div>
		</div>
	</div>
	<div id="add-menu" class="circular-menu">
		<i class="fas fa-plus"></i>
		<div id="add-flyout" class="flyout">
			<button id="add-rice" class="button">🍚 Add Rice</button>
			<button id="add-nori" class="button">🌿🟩 Add Nori</button>
			<button id="add-fish" class="button">🐟 Add Fish</button>
			<button id="add-bamboo" class="button">🎍 Add Bamboo Mat</button>
			<div id="ingredient-counter">
				<div>Rice grains: <span id="rice-count">0</span></div>
				<div>Nori sheets: <span id="nori-count">0</span></div>
				<div>Fish slices: <span id="fish-count">0</span></div>
				<div>Bamboo mats: <span id="bamboo-count">0</span></div>
			</div>
		</div>
	</div>

	<div id="toolbar" class="ui-panel">
		<button id="camera-rotate" class="button toolbar-button" title="Rotate Camera"><i
				class="fas fa-sync-alt"></i></button>
		<button id="camera-pan" class="button toolbar-button" title="Pan Camera"><i
				class="fas fa-arrows-alt"></i></button>
		<button id="camera-zoom" class="button toolbar-button" title="Zoom Camera"><i
				class="fas fa-search"></i></button>
		<div class="toolbar-divider"></div>
		<button id="interact-move" class="button toolbar-button active" title="Drag Group"><i
				class="fas fa-hand-paper"></i></button>
		<button id="interact-pinch" class="button toolbar-button" title="Drag One"><i
				class="fas fa-hand-lizard"></i></button>
		<button id="interact-delete" class="button toolbar-button" title="Delete Objects"><i
				class="fas fa-trash-alt"></i></button>
	</div>
	<div id="rotate-buttons" class="ui-panel">
		<button id="rotate-left" class="button toolbar-button" title="Rotate Left"><i class="fas fa-undo"></i></button>
		<button id="rotate-right" class="button toolbar-button" title="Rotate Right"><i
				class="fas fa-redo"></i></button>
	</div>
	<div id="info"
		style="position: absolute; bottom: 0; right: 0; background: rgba(0, 0, 0, 0.7); color: white; padding: 5px 10px; border-top-left-radius: 10px; font-family: sans-serif;">
		<a href="tic-80/" style="color: white; text-decoration: none;">Play TIC-80 version</a>
		&nbsp;&middot;&nbsp;
		<a href="https://github.com/1j01/makisu?tab=readme-ov-file#readme"
			style="color: white; text-decoration: none;">GitHub</a>
	</div>


	<script type="importmap">
		{
			"imports": {
				"three": "./libs/three.module.js"
			}
		}
	</script>

	<script type="module" src="main.js"></script>
</body>
